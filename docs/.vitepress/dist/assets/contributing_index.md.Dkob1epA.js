import{_ as a,o as i,c as n,ag as e}from"./chunks/framework.DEqXEGcv.js";const c=JSON.parse('{"title":"Contributing","description":"","frontmatter":{"title":"Contributing"},"headers":[],"relativePath":"contributing/index.md","filePath":"contributing/index.md"}'),t={name:"contributing/index.md"};function p(l,s,h,r,k,d){return i(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="contributing" tabindex="-1">Contributing <a class="header-anchor" href="#contributing" aria-label="Permalink to &quot;Contributing&quot;">​</a></h1><p>This guide covers the Lux project architecture, how to add new language features, and how to contribute effectively.</p><h2 id="project-architecture" tabindex="-1">Project Architecture <a class="header-anchor" href="#project-architecture" aria-label="Permalink to &quot;Project Architecture&quot;">​</a></h2><p>Lux is a full-stack language that transpiles to JavaScript. The compiler is a four-stage pipeline:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Source Code (.lux)</span></span>
<span class="line"><span>    |</span></span>
<span class="line"><span>    v</span></span>
<span class="line"><span>  Lexer        --&gt;  Tokens</span></span>
<span class="line"><span>    |</span></span>
<span class="line"><span>    v</span></span>
<span class="line"><span>  Parser       --&gt;  AST (Abstract Syntax Tree)</span></span>
<span class="line"><span>    |</span></span>
<span class="line"><span>    v</span></span>
<span class="line"><span>  Analyzer     --&gt;  Validated AST + Warnings</span></span>
<span class="line"><span>    |</span></span>
<span class="line"><span>    v</span></span>
<span class="line"><span>  CodeGenerator --&gt; JavaScript (server.js, client.js, shared.js)</span></span></code></pre></div><p>Each stage is a separate module in <code>src/</code>:</p><table tabindex="0"><thead><tr><th>Stage</th><th>Location</th><th>Purpose</th></tr></thead><tbody><tr><td>Lexer</td><td><code>src/lexer/</code></td><td>Tokenizes source code into a token stream</td></tr><tr><td>Parser</td><td><code>src/parser/</code></td><td>Parses tokens into an AST</td></tr><tr><td>Analyzer</td><td><code>src/analyzer/</code></td><td>Validates the AST, checks types, reports warnings</td></tr><tr><td>Code Generator</td><td><code>src/codegen/</code></td><td>Transforms the AST into JavaScript output</td></tr></tbody></table><h2 id="source-layout" tabindex="-1">Source Layout <a class="header-anchor" href="#source-layout" aria-label="Permalink to &quot;Source Layout&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>lux-lang/</span></span>
<span class="line"><span>  bin/</span></span>
<span class="line"><span>    lux.js                  # CLI entry point (all commands)</span></span>
<span class="line"><span>  src/</span></span>
<span class="line"><span>    lexer/</span></span>
<span class="line"><span>      lexer.js              # Tokenizer</span></span>
<span class="line"><span>      tokens.js             # Token type definitions</span></span>
<span class="line"><span>    parser/</span></span>
<span class="line"><span>      parser.js             # Recursive descent parser</span></span>
<span class="line"><span>    analyzer/</span></span>
<span class="line"><span>      analyzer.js           # Semantic analysis, type checking</span></span>
<span class="line"><span>    codegen/</span></span>
<span class="line"><span>      codegen.js            # Main code generator (orchestrator)</span></span>
<span class="line"><span>      base-codegen.js       # Shared gen* methods for all targets</span></span>
<span class="line"><span>      client-codegen.js     # Client-side code generation (reactivity, JSX)</span></span>
<span class="line"><span>      server-codegen.js     # Server-side code generation (routes, models)</span></span>
<span class="line"><span>    runtime/</span></span>
<span class="line"><span>      reactivity.js         # Reactive state system (state, computed, effect)</span></span>
<span class="line"><span>      rpc.js                # Client-to-server RPC infrastructure</span></span>
<span class="line"><span>      router.js             # Client-side URL routing</span></span>
<span class="line"><span>      string-proto.js       # String prototype extensions</span></span>
<span class="line"><span>    lsp/</span></span>
<span class="line"><span>      server.js             # Language Server Protocol implementation</span></span>
<span class="line"><span>    stdlib/</span></span>
<span class="line"><span>      inline.js             # Standard library (single source of truth)</span></span>
<span class="line"><span>    formatter/</span></span>
<span class="line"><span>      formatter.js          # Code formatter (AST pretty-printer)</span></span>
<span class="line"><span>    diagnostics/</span></span>
<span class="line"><span>      formatter.js          # Rich error message formatting</span></span>
<span class="line"><span>    index.js                # Public API exports</span></span>
<span class="line"><span>  tests/                    # Test suites (34 files, 3338 tests)</span></span>
<span class="line"><span>  editors/</span></span>
<span class="line"><span>    vscode/                 # VS Code extension</span></span>
<span class="line"><span>      extension.js          # LSP client</span></span>
<span class="line"><span>      syntaxes/             # TextMate grammar</span></span>
<span class="line"><span>      package.json          # Extension manifest</span></span></code></pre></div><h2 id="how-to-add-a-new-language-feature" tabindex="-1">How to Add a New Language Feature <a class="header-anchor" href="#how-to-add-a-new-language-feature" aria-label="Permalink to &quot;How to Add a New Language Feature&quot;">​</a></h2><p>Adding a new feature to Lux involves changes across all four pipeline stages, plus tests. Here is the workflow:</p><h3 id="_1-add-token-s" tabindex="-1">1. Add Token(s) <a class="header-anchor" href="#_1-add-token-s" aria-label="Permalink to &quot;1. Add Token(s)&quot;">​</a></h3><p>In <code>src/lexer/tokens.js</code>, define any new token types:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In TokenType enum</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GUARD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;GUARD&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span></code></pre></div><p>In <code>src/lexer/lexer.js</code>, add the keyword mapping:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In the keywords map</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;guard&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: TokenType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GUARD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span></code></pre></div><h3 id="_2-define-ast-node-s" tabindex="-1">2. Define AST Node(s) <a class="header-anchor" href="#_2-define-ast-node-s" aria-label="Permalink to &quot;2. Define AST Node(s)&quot;">​</a></h3><p>In <code>src/parser/parser.js</code>, add parsing logic that produces the new AST node. Lux uses a recursive descent parser:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Example: parsing a guard clause</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseGuard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(TokenType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GUARD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> condition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(TokenType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ELSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> body</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parseBlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;GuardClause&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    condition,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    body,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    line: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    column: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentColumn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Integrate the new parse method into the appropriate parsing context (e.g., <code>parseStatement</code>, <code>parseExpression</code>).</p><h3 id="_3-analyze" tabindex="-1">3. Analyze <a class="header-anchor" href="#_3-analyze" aria-label="Permalink to &quot;3. Analyze&quot;">​</a></h3><p>In <code>src/analyzer/analyzer.js</code>, add validation for the new node type:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In the node visitor/switch</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;GuardClause&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">analyzeExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node.condition);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">analyzeBlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node.body);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Add any semantic checks: type validation, scope rules, exhaustiveness, etc.</p><h3 id="_4-generate-code" tabindex="-1">4. Generate Code <a class="header-anchor" href="#_4-generate-code" aria-label="Permalink to &quot;4. Generate Code&quot;">​</a></h3><p>In <code>src/codegen/base-codegen.js</code> (for shared logic) or the target-specific generators:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// In the code generation visitor</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">genGuardClause</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cond</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">genExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node.condition);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> body</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">genBlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node.body);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`if (!(\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cond</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">})) \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">body</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Update both <code>client-codegen.js</code> and <code>server-codegen.js</code> if the feature behaves differently in each context.</p><h3 id="_5-add-tests" tabindex="-1">5. Add Tests <a class="header-anchor" href="#_5-add-tests" aria-label="Permalink to &quot;5. Add Tests&quot;">​</a></h3><p>Write comprehensive tests covering:</p><ul><li><strong>Lexer</strong>: Token recognition</li><li><strong>Parser</strong>: AST structure</li><li><strong>Analyzer</strong>: Validation and warnings</li><li><strong>Code generation</strong>: Correct JavaScript output</li><li><strong>Integration</strong>: End-to-end compilation and execution</li></ul><p>Place tests in the <code>tests/</code> directory following the existing naming conventions.</p><h2 id="running-tests" tabindex="-1">Running Tests <a class="header-anchor" href="#running-tests" aria-label="Permalink to &quot;Running Tests&quot;">​</a></h2><p>Lux uses Bun&#39;s built-in test runner:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run all tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run a specific test file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests/parser.test.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run tests matching a pattern</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;guard&quot;</span></span></code></pre></div><p>The full test suite has 3338 tests across 34 test files with 0 failures. All tests must pass before merging.</p><h2 id="code-style" tabindex="-1">Code Style <a class="header-anchor" href="#code-style" aria-label="Permalink to &quot;Code Style&quot;">​</a></h2><ul><li><strong>Language</strong>: JavaScript with ES modules (<code>import</code>/<code>export</code>)</li><li><strong>Runtime</strong>: Bun (not Node.js)</li><li><strong>No build step</strong>: Source files are executed directly by Bun</li><li><strong>Naming</strong>: camelCase for functions and variables, PascalCase for classes</li><li><strong>Error handling</strong>: Use the <code>DiagnosticFormatter</code> for user-facing error messages with source context and caret markers</li></ul><h2 id="key-conventions" tabindex="-1">Key Conventions <a class="header-anchor" href="#key-conventions" aria-label="Permalink to &quot;Key Conventions&quot;">​</a></h2><h3 id="ast-nodes" tabindex="-1">AST Nodes <a class="header-anchor" href="#ast-nodes" aria-label="Permalink to &quot;AST Nodes&quot;">​</a></h3><p>Every AST node includes <code>line</code> and <code>column</code> properties for error reporting:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;FunctionDeclaration&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;greet&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Identifier&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  column</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="code-generation" tabindex="-1">Code Generation <a class="header-anchor" href="#code-generation" aria-label="Permalink to &quot;Code Generation&quot;">​</a></h3><p>The code generator produces separate outputs for different targets:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  shared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;// shared JavaScript...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;// server JavaScript...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  client</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;// client JavaScript...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;// test JavaScript...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  servers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">api</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// named blocks</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  clients</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  multiBlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="diagnostics" tabindex="-1">Diagnostics <a class="header-anchor" href="#diagnostics" aria-label="Permalink to &quot;Diagnostics&quot;">​</a></h3><p>Use the rich error formatter for user-facing messages:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { DiagnosticFormatter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../diagnostics/formatter.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> formatter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DiagnosticFormatter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(source, filename);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(formatter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">formatWarning</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message, { line, column }));</span></span></code></pre></div><p>This produces Rust/Elm-style error messages with source context and caret markers.</p><h2 id="filing-issues" tabindex="-1">Filing Issues <a class="header-anchor" href="#filing-issues" aria-label="Permalink to &quot;Filing Issues&quot;">​</a></h2><p>When filing an issue, include:</p><ul><li>A minimal <code>.lux</code> code sample that reproduces the problem</li><li>The expected behavior</li><li>The actual behavior (error message, incorrect output, etc.)</li><li>Your Bun version (<code>bun --version</code>)</li></ul><h2 id="pull-requests" tabindex="-1">Pull Requests <a class="header-anchor" href="#pull-requests" aria-label="Permalink to &quot;Pull Requests&quot;">​</a></h2><ol><li>Fork the repository and create a feature branch</li><li>Make your changes following the code style guidelines</li><li>Add tests for new functionality</li><li>Run <code>bun test</code> and ensure all 3338+ tests pass</li><li>Submit a pull request with a clear description of the changes</li></ol><p>Keep pull requests focused on a single feature or fix. Large changes should be broken into smaller, reviewable PRs.</p>`,55)])])}const g=a(t,[["render",p]]);export{c as __pageData,g as default};
